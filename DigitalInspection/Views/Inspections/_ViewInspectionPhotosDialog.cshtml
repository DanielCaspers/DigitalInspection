@model DigitalInspection.ViewModels.ViewInspectionPhotosViewModel

@{
	const string TEMPLATE_NAMESPACE = "viewInspectionPhotosDialog";
	const string CANCEL = TEMPLATE_NAMESPACE + "_cancel";
}

@if (Model.ChecklistItem != null)
{
	<div id="@TEMPLATE_NAMESPACE" class="modal fade">
		<div class="modal-dialog modal-lg">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
					<h4 class="modal-title">View photos - @Model.ChecklistItem.Name</h4>
				</div>
				<div class="modal-body">
					<div id="inspectionPhotosCarousel" class="carousel" data-ride="carousel" data-interval="false">
						<!-- Indicators -->
						<ol class="carousel-indicators">
							@for(var i = 0; i< Model.ImageSources.Count; i++)
							{
								if (i == 0)
								{
									<li data-target="#inspectionPhotosCarousel" data-slide-to="0" class="active"></li>
								}
								else
								{
									<li data-target="#inspectionPhotosCarousel" data-slide-to="@i"></li>
								}
							}
						</ol>

						<!-- Wrapper for slides -->
						<div class="carousel-inner container-flex center">
							@foreach (var imageSrc in Model.ImageSources)
							{
								if (imageSrc == Model.ImageSources[0])
								{
									<div class="item active">
										<img src="@imageSrc" style="max-height: 55vh;"/>
									</div>
								}
								else
								{
									<div class="item">
										<img src="@imageSrc" style="max-height: 55vh;"/>
									</div>
								}
							}
						</div>

						<!-- Left and right controls -->
						<a class="left carousel-control visible" href="#inspectionPhotosCarousel" data-slide="prev">
							<span class="glyphicon glyphicon-chevron-left"></span>
							<span class="sr-only">Previous</span>
						</a>
						<a class="right carousel-control visible" href="#inspectionPhotosCarousel" data-slide="next">
							<span class="glyphicon glyphicon-chevron-right"></span>
							<span class="sr-only">Next</span>
						</a>
					</div>
				</div>

				<div class="modal-footer">
					<button id="@CANCEL" type="button" class="btn btn-default" data-dismiss="modal">Dismiss</button>
				</div>
			</div>
		</div>
	</div>
}

