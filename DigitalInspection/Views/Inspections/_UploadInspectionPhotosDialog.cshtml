@model DigitalInspection.ViewModels.UploadInspectionPhotosViewModel

@{
	const string TEMPLATE_NAMESPACE = "uploadInspectionPhotosDialog";
	const string CANCEL = TEMPLATE_NAMESPACE + "_cancel";
	const string SUCCESS = TEMPLATE_NAMESPACE + "_success";
}

@if (Model.ChecklistItem != null)
{
	<script type="text/javascript">
		UploadInspectionPhotosDialog.initialize();
	</script>

	<div id="@TEMPLATE_NAMESPACE" class="modal fade">
		<div class="modal-dialog modal-lg">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
					<h4 class="modal-title">Upload photos - @Model.ChecklistItem.Name</h4>
				</div>
				@*@using (Ajax.BeginForm(
						"Create",
						"Tags",
						FormMethod.Post,
						new AjaxOptions
						{
							InsertionMode = InsertionMode.Replace,
							UpdateTargetId = "tagList"
						},
						new { id = "addTagForm", autocomplete = "off" })
					)
					{*@
				<form id="uploadInspectionPhotosForm">
					<div class="modal-body">
						<div id="myCarousel" class="carousel slide" data-ride="carousel" data-interval="false">
							<!-- Indicators -->
							<ol class="carousel-indicators">
								<li data-target="#myCarousel" data-slide-to="0" class="active"></li>
							</ol>

							<!-- Wrapper for slides -->
							<div class="carousel-inner container-flex center">
								<div class="item active">
									<div id="camera-viewfinder"></div>
									<div class="carousel-caption">
										<span id="camera-viewfinder-caption">Take a photo</span>
									</div>
								</div>
							</div>

							<!-- Left and right controls -->
							<a class="left carousel-control" href="#myCarousel" data-slide="prev">
								<span class="glyphicon glyphicon-chevron-left"></span>
								<span class="sr-only">Previous</span>
							</a>
							<a class="right carousel-control" href="#myCarousel" data-slide="next">
								<span class="glyphicon glyphicon-chevron-right material-primary"></span>
								<span class="sr-only">Next</span>
							</a>
						</div>
					</div>

					<div class="container-flex center">
						<div class="photo-control capture-control visible">
							<button class="btn btn-primary"
									type="button"
									onclick="UploadInspectionPhotosDialog.freezePhoto()">
								<i class="material-icons md-36">camera_alt</i>
							</button>
						</div>

						<div class="photo-control acceptance-control">
							<button class="btn btn-primary"
									type="button"
									onclick="UploadInspectionPhotosDialog.retryPhoto()">
								<i class="material-icons md-36">undo</i>
							</button>
							<button class="btn btn-primary"
									type="button"
									onclick="UploadInspectionPhotosDialog.acceptPhoto()">
								<i class="material-icons md-36">check</i>
							</button>
						</div>
					</div>

					<div class="modal-footer">
						<button id="@CANCEL" type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
						<button id="@SUCCESS" type="submit" class="btn btn-primary" data-dismiss="modal" disabled="disabled">Upload</button>
					</div>
				</form>
				@*}*@
			</div>
		</div>
	</div>
}

