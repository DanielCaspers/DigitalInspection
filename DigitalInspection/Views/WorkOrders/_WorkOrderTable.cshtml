@model DigitalInspection.ViewModels.WorkOrderMasterViewModel

<script type="text/javascript">
	TableService.showTable(
		'workOrderTable',
		[10, 15, 20, 40],
		[{
			targets: 3,
			orderable: false,
			searchable: false
		}]
	);

	TableService.navigateOnRowClick();
</script>


<div class="jumbotron">
	<table id="workOrderTable" class="table table-striped table-condensed table-responsive form-group">
		<thead>
			<tr>
				<th>Order #</th>
				<th>Emp. #</th>
				<th>Customer</th>
				<!-- Empty is used for vehicle color -->
				<th></th>
				<th>Vehicle</th>
				<th>Status</th>
				<th>Date</th>
			</tr>
		</thead>
		<tbody>
			@foreach (var workOrder in Model.WorkOrders)
			{
				<!-- data-url is used by TableService to take generated URL and navigate to page -->
				<tr data-url="@Url.Action("_Customer", "WorkOrders", new { id = workOrder.Id })">
					<td>@workOrder.Id.Substring(3)</td>
					<td>@workOrder.EmployeeId</td>
					<td>@workOrder.Customer.Name</td>
					@if (String.IsNullOrWhiteSpace(workOrder.Vehicle.Color))
					{
						<td>?</td>
					}
					else
					{
						<td class="color-indicator" style="background-color: @workOrder.Vehicle.Color;"></td>
					}
					<td>
						<div>@workOrder.Vehicle.Year @workOrder.Vehicle.Make @workOrder.Vehicle.Model</div>
						<div>@workOrder.Vehicle.License</div>
					</td>
					<td>@workOrder.Status</td>
					<!-- http://www.csharp-examples.net/string-format-datetime/ -->
					<td>
						<div>@String.Format("{0:d}", @workOrder.Date)</div>
						@*<div>@String.Format("{0:t}", @workOrder.Date)</div>*@
					</td>
				</tr>
			}
		</tbody>
	</table>
</div>